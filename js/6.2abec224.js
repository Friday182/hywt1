(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"4ec3":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));n("551c"),n("06db");var o=n("bc3a"),r=n.n(o);r.a.defaults.baseURL="http://127.0.0.1:8082/",r.a.interceptors.request.use((function(e){return console.log(e),localStorage.getItem("access_token"),e.headers["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",e}),(function(e){return console.log(e),Promise.reject(e)}));var s=function(e){return r.a.post("/login",e)},a=function(e){return r.a.post("/signup",e)},i=function(e){return r.a.post("/api/visitor",e)}},"8b24":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{staticClass:"flex-center"},[n("q-card",{staticClass:"absolute-center",staticStyle:{width:"450px","max-width":"80vw"}},[n("q-card-actions",{attrs:{align:"right"}},[n("div",{staticClass:"row"},[n("q-space"),n("q-btn",{attrs:{flat:"",dense:"",icon:"cancel",color:"primary"},on:{click:function(t){return e.signinClose()}}})],1)]),n("q-card-section",{attrs:{align:"center"}},[n("q-btn",{staticStyle:{color:"green"},attrs:{flat:"","no-caps":"",dense:"",size:"lg",label:"用户登录"}})],1),n("q-card-section",{staticClass:"q-px-xl q-mx-xl q-mt-sm"},[n("q-input",{ref:"nameInput",attrs:{rounded:"",outlined:"",autofocus:"",color:"green",label:"用户名:"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addByEnter(0)}},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{attrs:{name:"face",color:"orange"}})]},proxy:!0}]),model:{value:e.loginName,callback:function(t){e.loginName=t},expression:"loginName"}})],1),n("q-card-section",{staticClass:"q-px-xl q-mx-xl q-mb-md"},[n("q-input",{ref:"pwInput",attrs:{rounded:"",outlined:"",color:"green",label:"密码:",type:e.isPwd?"password":"text",hint:"* 测试用户名：test， 密码：test"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addByEnter(1)}},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{color:"blue",name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),n("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"center"}},[n("q-btn",{attrs:{label:"登录"},on:{click:e.toLogin}})],1),n("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"center"}},[n("q-checkbox",{attrs:{"keep-color":"","left-label":"",color:"blue",label:"是否记录用户登录状态？"},model:{value:e.rememberUser,callback:function(t){e.rememberUser=t},expression:"rememberUser"}})],1)],1)],1)},r=[],s=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("c47a")),a=n.n(s),i=n("4ec3"),c=n("2f62");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={components:{},data:function(){return{loginName:"test",password:"test",isPwd:!0,windowHeight:"",listName:"student",alert:!1,alertMsg:"",rememberUser:!0,skipQueryStudent:!0,token:"",loginForm:{username:"test",password:"test"}}},created:function(){this.windowHeight=window.innerHeight+"px"},methods:u({},Object(c["d"])("currentInfo",["updateInfo"]),{toLogin:function(){var e=this;Object(i["b"])(this.loginForm).then((function(t){e.info=t,200===t.data.code?(localStorage.setItem("access_token",t.data.token),e.updateInfo({menuIdx:"1-1",userName:e.loginForm.username,userRole:"test",tabs:[{name:"1-1",title:"访客信息"}],activeTab:"1-1"}),console.log("set token ok - ",t.data.token),e.$router.push({path:"/Hywt"})):console.log("not ok")})).catch((function(e){console.log(e)}))},signinClose:function(){this.loginName="",this.password=""},addByEnter:function(e){""!==this.loginName&&""!==this.password?this.studentLogin():""!==this.loginName?this.$refs.pwInput.focus():this.$refs.nameInput.focus()}})},p=d,f=n("2877"),b=Object(f["a"])(p,o,r,!1,null,null,null);t["default"]=b.exports}}]);